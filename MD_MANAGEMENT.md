# MDファイル管理ガイド

**目的**: プロジェクト内のMarkdownファイルの管理・更新・整合性チェック  
**更新責任**: 作業終了時に必ず確認・更新  
**最終確認**: 2025年9月24日
**重要更新**: デプロイ関連MDファイル統合完了、**コード品質ワークフロー新規作成**

---

## 📋 **現在のMDファイル一覧**

### **🔴 コアドキュメント (必須・常時更新)**

| ファイル | 目的 | 更新タイミング | 責任範囲 |
|----------|------|---------------|----------|
| `DEVELOPMENT_STATUS.md` | 現在の開発状況 | 機能追加・修正・ステータス変更時 | 開発状況・技術構成・課題 |
| `RELEASE_HISTORY.md` | 変更履歴 | リリース・機能完成時 | 時系列変更記録 |
| `PRODUCTION_CHECKLIST.md` | 本番リリース手順 | セキュリティ・テーブル・設定変更時 | 本番移行作業項目 |
| `DEPLOYMENT_MASTER_GUIDE.md` | **統合デプロイ手順書** | デプロイ時・問題発生時 | **ワンストップデプロイガイド（2025.09.24統合版）** |
| `TYPESCRIPT_ERROR_INVESTIGATION.md` | TypeScript問題調査記録 | TypeScript関連問題発生・解決時 | エラー調査・修正計画・進捗管理 |
| `ENVIRONMENT_SETUP.md` | 環境変数設定ガイド | 環境変数追加・変更・問題発生時 | 環境変数管理・トラブルシューティング |
| `CODE_QUALITY_WORKFLOW.md` | **コード品質管理ワークフロー** | プログラミング時・エラー発生時 | **TypeScript/ESLintチェック手順・修正パターン集（2025.09.24新規作成）** |

### **🟡 プロジェクトドキュメント (定期更新)**

| ファイル | 目的 | 更新タイミング | 責任範囲 |
|----------|------|---------------|----------|
| `README.md` | プロジェクト概要 | 大きな機能追加・技術変更時 | セットアップ・基本使用方法 |
| `SYSTEM_ARCHITECTURE.md` | システム構成 | アーキテクチャ・技術スタック変更時 | 技術構成・データフロー |
| `DATA_MANAGEMENT_SPECIFICATIONS.md` | データ管理共通仕様 | データ管理パターン・API・同期方法変更時 | DB/JSON同期・フォールバック・管理者機能 |
| `VERCEL_ENV_SETUP.md` | Vercel環境設定 | 環境変数・デプロイ設定変更時 | 本番環境・環境変数管理 |

### **🔶 廃止予定 (統合済み・使用しない)**

| ファイル | 廃止理由 | 統合先 | 状態 |
|----------|---------|--------|------|
| `DEPLOY_DEBUG_CHECKLIST.md` | **統合完了** | → `DEPLOYMENT_MASTER_GUIDE.md` | 🚫 **使用禁止** |
| `DEPLOY_PREVENTION_GUIDE.md` | **統合完了** | → `DEPLOYMENT_MASTER_GUIDE.md` | 🚫 **使用禁止** |

### **🟢 アーカイブ (保管・参照用)**

| フォルダ/ファイル | 目的 | 更新タイミング | 備考 |
|------------------|------|---------------|------|
| `old/` | 旧ドキュメント | 整理時のみ | バックアップ・参照用 |
| `old/DEVELOPMENT_NOTES.md` | 旧開発メモ | 更新なし | アーカイブ |
| `old/DEVELOPMENT_LOG.md` | 旧開発ログ | 更新なし | アーカイブ |
| `old/RELEASE_NOTES.md` | 旧リリースノート | 更新なし | アーカイブ |
| `old/PRODUCTION_CHECKLIST.md` | 旧チェックリスト | 更新なし | アーカイブ |
| `DEVELOPMENT_LOG.md` | 開発ログ | 更新なし | 廃止予定 |
| `DEVELOPMENT_NOTES.md` | 開発ノート | 更新なし | 廃止予定 |
| `RELEASE_NOTES.md` | リリースノート | 更新なし | 廃止予定 |

### **📊 専門ドキュメント (`docs/`フォルダ)**

| ファイル | 目的 | 更新タイミング | 状態 |
|----------|------|---------------|------|
| `docs/migration-plan.md` | データ移行計画 | 移行作業時 | 📋 計画段階 |
| `docs/migration-report.md` | 移行実行結果 | 移行完了時 | 📋 計画段階 |
| `docs/category-system-design.md` | カテゴリー設計 | カテゴリー変更時 | ✅ 完成 |
| `docs/quiz-category-mapping.md` | クイズカテゴリー対応 | カテゴリー変更時 | ✅ 完成 |
| `docs/wisdom-card-category-mapping.md` | 格言カード対応 | カテゴリー変更時 | ✅ 完成 |
| `docs/ALE-LEARNING-OPTIMIZATION.md` | 学習最適化 | 学習機能変更時 | 📋 検討中 |
| `docs/DEVELOPMENT-ROADMAP.md` | 開発ロードマップ | 計画変更時 | 📋 検討中 |
| `docs/QUICK-WINS.md` | 短期改善案 | 改善実施時 | 📋 検討中 |
| `docs/learning-content-migration-plan.md` | 学習コンテンツ移行計画 | 学習コンテンツ移行時 | 📋 計画段階 |
| `docs/NEXT_WORK_TODO.md` | 次回作業TODO | 作業完了時・引き継ぎ時 | 📋 作業管理 |

---

## 🆕 **重要な変更履歴（2025.09.24）**

### **コード品質ワークフロー新規作成**
- **新規作成**: `CODE_QUALITY_WORKFLOW.md` - 開発時エラー・ワーニングチェック手順
- **目的**: TypeScript/ESLint品質管理の標準化・再発防止
- **内容**: 
  - 修正前後チェック手順
  - 警告レベル別対応方針  
  - 修正パターン集・トラブルシューティング
  - 進捗管理・目標設定ガイド

### **デプロイ関連MDファイル統合完了**
- **統合前**: 3つの分散ファイル
  - `DEPLOY_DEBUG_CHECKLIST.md` (592行の詳細チェックリスト)
  - `DEPLOY_PREVENTION_GUIDE.md` (新規作成のエラー防止ガイド)
  - 実践経験（TypeScriptエラー削減、セーフモードシステム）

- **統合後**: **1つの決定版**
  - ✅ `DEPLOYMENT_MASTER_GUIDE.md` - **今後はこのファイルのみ使用**

- **統合理由**:
  - デプロイ情報の分散による混乱防止
  - 実践で検証された手順の統合
  - ワンストップでデプロイ完結

- **影響**:
  - 🚫 旧ファイル2つは**使用禁止**
  - ✅ 新統合ファイルが**唯一の参照先**
  - 📋 今後のデプロイは統合ファイルを参照

---

## 🔄 **作業終了時のチェックリスト**

### **Step 1: 変更内容の確認**
- [ ] 今回の作業で何を変更・追加・修正したか明確にする
- [ ] 影響範囲（機能・テーブル・ファイル・設定）を把握する
- [ ] ユーザー向け機能変更があるか確認する

### **Step 2: コアドキュメント更新チェック**

#### **🔴 DEVELOPMENT_STATUS.md**
- [ ] **機能ステータス更新**: 完成→検証中→予定の変更
- [ ] **技術構成変更**: 新しいライブラリ・テーブル・設定追加
- [ ] **課題・注意事項**: 新しい問題・解決した問題
- [ ] **次の優先タスク**: 作業完了により変更された優先度

#### **🔴 RELEASE_HISTORY.md**
- [ ] **新規リリース記録**: 日付・変更内容・技術詳細
- [ ] **修正内容**: バグ修正・改善点の詳細記録
- [ ] **影響範囲**: 変更されたファイル・データベース・設定

#### **🔴 DEPLOYMENT_MASTER_GUIDE.md**
- [ ] **デプロイ手順変更**: 新しいスクリプト・コマンド追加
- [ ] **エラー対応更新**: 新しいエラーパターン・解決策追加
- [ ] **システム機能追加**: セーフモード機能・チェック項目追加

#### **🔴 PRODUCTION_CHECKLIST.md**
- [ ] **テーブル構成変更**: 新規作成・削除・変更
- [ ] **セキュリティ設定**: RLS・認証・権限変更
- [ ] **環境設定**: 環境変数・設定ファイル変更

### **Step 3: プロジェクトドキュメント確認**

#### **🟡 README.md** (必要時のみ)
- [ ] **セットアップ手順**: 新しい依存関係・環境要件
- [ ] **基本機能説明**: 大きな機能追加・変更

#### **🟡 SYSTEM_ARCHITECTURE.md** (必要時のみ)
- [ ] **システム構成**: 新しいテーブル・サービス・技術
- [ ] **データフロー**: 処理フローの変更

### **Step 4: 専門ドキュメント確認**

#### **📊 docs/フォルダ** (該当時のみ)
- [ ] **カテゴリー関連**: カテゴリー・サブカテゴリー変更時
- [ ] **移行関連**: データベース・データ移行時
- [ ] **設計関連**: アーキテクチャ・設計変更時

---

## 🎯 **更新判断基準**

### **必ず更新すべき変更**
- ✅ **新機能追加・完成**
- ✅ **バグ修正・問題解決**
- ✅ **データベーステーブル変更**
- ✅ **セキュリティ設定変更**
- ✅ **ファイル構成変更**
- ✅ **技術スタック変更**

### **更新を検討すべき変更**
- 🤔 **設定値の微調整**
- 🤔 **コメント・ログの追加**
- 🤔 **リファクタリング（機能変更なし）**
- 🤔 **ドキュメント整理**

### **更新不要な変更**
- ❌ **タイポ修正のみ**
- ❌ **コードフォーマット調整のみ**
- ❌ **変数名変更のみ（機能影響なし）**

---

## 📝 **更新テンプレート**

### **DEVELOPMENT_STATUS.md 更新例**
```markdown
### **2025.MM.DD更新: [変更概要]**
- [変更した機能]: [ステータス変更] ([詳細])
- [新しい課題]: [課題内容]
- [解決した問題]: [解決内容]
```

### **RELEASE_HISTORY.md 更新例**
```markdown
## 📅 **2025.MM.DD - [リリース名]**

### **🆕 新機能**
- **[機能名]**: [詳細説明]

### **🔧 技術的変更**
- **[ファイル名]**: [変更内容]

### **🐛 修正**
- **[問題名]**: [修正内容]
```

---

## ⚠️ **重要な注意事項**

### **更新時の必須確認**
1. **日付の正確性**: 必ず作業実施日を記録
2. **整合性チェック**: 複数ファイル間の情報が矛盾していないか
3. **完了ステータス**: 実際に完了した内容のみ「完成」と記載
4. **次回作業者への配慮**: 引き継ぎに必要な情報を明記

### **避けるべき更新**
- ❌ **曖昧な表現**: 「改善した」「修正した」だけでは不十分
- ❌ **技術詳細の省略**: 後で確認できる程度の詳細は必要
- ❌ **未完了の完成マーク**: 検証中・途中状態を「完成」にしない

---

## 🔧 **メンテナンス手順**

### **月次チェック** (推奨)
- [ ] docs/フォルダの不要ファイル整理
- [ ] アーカイブファイルの整理
- [ ] リンク切れチェック

### **リリース前チェック** (必須)
- [ ] 全MDファイルの最新情報確認
- [ ] PRODUCTION_CHECKLIST.mdの完全性確認
- [ ] バックアップファイルの整合性確認

---

*このファイル自体も作業終了時に更新対象です。新しいMDファイル追加時は必ずこのリストに追加してください。*